---
title: "Javascript UI SDK Quickstart"
description: "Learn how to integrate Depict Search with our JavaScript UI SDK."
---

Use our JavaScript UI SDK to integrate a Depict Search UI into your website.

## Full example

<iframe src="https://codesandbox.io/embed/depict-js-ui-search-forked-sgh4iy?fontsize=14&hidenavigation=1&theme=dark" style={{width: '100%', height: '500px', border: 0, borderRadius: '4px', overflow: 'hidden'}} title="depict-js-ui-search (forked)" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts" />

## Installation

Install `@depict-ai/js-ui` using NPM or Yarn:

<CodeGroup> 

```shell NPM
npm i @depict-ai/js-ui
```

```shell Yarn
yarn add @depict-ai/js-ui
```
</CodeGroup>

## Usage

### Configure the search provider

Configure the `DepictSearchProvider` as follows:

```typescript TypeScript
import { DepictSearchProvider } from "@depict-ai/js-ui";

const searchProvider = new DepictSearchProvider({
  market: "MARKET_IDENTIFIER",
  merchant: "MERCHANT_ID",
  searchPagePath: "PATH_TO_SEARCH_PAGE",
});
```

`DepictSearchProvider`'s arguments are:

<ResponseField name="market" required="true">
The market to use for the search.
</ResponseField>

<ResponseField name="merchant" required="true">
The merchant to use for the search.
</ResponseField>

<ResponseField name="searchPagePath" required="true">
The path to the search page.
</ResponseField>

<ResponseField name="sessionId">
Optional session ID 
</ResponseField>

<ResponseField name="userId">
Optional logged in user ID 
</ResponseField>

<ResponseField name="locale" default="English">
An object containing translations. 
</ResponseField>

### Create the product card

Create your own product card component. The product card must be a function that takes a `Display` and that returns an `HTMLElement` (or an array of `HTMLElement`).  
The `Display` properties depend on what Depict has configured for you. If you need help, please contact us.


```typescript TypeScript 
export interface Display {
  product_id: string;
  image_url: string;
  sale_price: number;
  title: string;
  page_url: string;
  original_price: number;
  recommendation_id: string;
}
```

You can use the `ImagePlaceholder` component to display a placeholder image while the product image is loading.  
You can use the `TextPlaceholder` component to display a placeholder text while the product title or price is loading.


```typescript TypeScript 
import { Display } from "./display";
import { ImagePlaceholder, TextPlaceholder } from "@depict-ai/js-ui";

const img_aspect_ratio = 1.5;

export function productCard(display: Display | null) {
  const linkUrl = display ? `/pdp.html?product-id=${display.product_id}` : "#";

  let imgContainer: string;
  if (display) {
    const imgContainerStyle = `position:relative;width:100%;padding-bottom:${
      (1 / img_aspect_ratio) * 100
    }%`;
    const imgEl = `<img src="${display.image_url}" alt="" class="product-img depict-img-mod" loading="lazy" />`;
    imgContainer = `<div style="${imgContainerStyle}">${imgEl}</div>`;
  } else {
    imgContainer = ImagePlaceholder({
      aspectRatio: img_aspect_ratio,
    }).outerHTML;
  }

  const titleEl =
    display?.title ||
    TextPlaceholder({ height: "1em", width: "20ch" }).outerHTML;
  const priceEl =
    display?.sale_price ||
    TextPlaceholder({ height: "1em", width: "4ch" }).outerHTML;

  const html = `
    <div class="product-card">
      <a href="${linkUrl}">
        ${imgContainer}
        <span class="text-container">
          <span class="title">${titleEl}</span>
          <span class="price">${priceEl}</span>
        </span>
      </a>
    </div>
  `;

  const element = document.createElement("div");
  element.innerHTML = html;

  return element;
}
```

### Configure the search page

Configure the `SearchPage` component as follows:


```typescript TypeScript
import { SearchPage } from "@depict-ai/js-ui";

const searchPage = SearchPage<Display>({
  searchProvider,
  productCard,
});
```

`SearchPage`'s arguments are:

<ResponseField name="searchProvider" required="true">
The DepictSearchProvider previously configured
</ResponseField>

<ResponseField name="productCard" required="true">
The product card component to use.
</ResponseField>

### Set up the PageReplacer

You want to set up the `PageReplacer` component so that you enjoy the benefits of client-side routing (instead of reloading the whole page on every navigation).


```typescript TypeScript
import { SetupPageReplacer } from "@depict-ai/js-ui";

SetupPageReplacer({
  isPageToReplace: (url) => url.pathname === "PATH_TO_SEARCH_PAGE",
  selectorToReplace: `.replace-for-depict`,
  renderContent: () => searchPage,
});
```

`SetupPageReplacer`'s arguments are:

<ResponseField name="isPageToReplace" required="true">
A function that returns true if the URL should be replaced by the search UI.
</ResponseField>

<ResponseField name="selectorToReplace" required="true">
The selector of the element to replace.
</ResponseField>

<ResponseField name="renderContent" required="true">
A function that returns the element(s) replacing the "page" when isPageToReplace returns true.
</ResponseField>

### Set up the search field

You now need to hook the `SearchField` component to one of the elements of your page. In order to do that, you can leverage the `onExistsObserver` function we provide:

```typescript TypeScript
import { SearchField, onExistsObserver } from "@depict-ai/js-ui";

onExistsObserver(".search-field-wrapper", (element) =>
  element.append(SearchField({ searchProvider }))
);
```

`onExistsObserver`'s arguments are:

<ResponseField name="selector" required="true">
The selector of the DOM element you want to observe
</ResponseField>

<ResponseField name="callback" required="true">
The callback to call when the element comes to existence 
</ResponseField>

`SearchField`'s arguments are:

<ResponseField name="searchProvider" required="true">
The DepictSearchProvider previously configured 
</ResponseField>